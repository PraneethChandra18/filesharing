{% extends 'fileshare/base.html' %}

{% block body %}

<a href="{% url 'fileshare:linked-folder-add' folder_id %}"> <button type="button" class="btn btn-success"> Add Folder </button> </a>
<a href="{% url 'fileshare:linked-file-add' folder_id %}"> <button type="button" class="btn btn-primary"> Upload Files </button> </a>
<a href="{% url 'fileshare:folder-update' folder_id %}"> <button type="button" class="btn btn-secondary"> Edit </button> </a>


<button type="button" class="btn btn-danger" data-toggle="modal" data-target="#myModal"> Delete </button>
<div class="modal" id="myModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title"> Delete </h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>

      <div class="modal-body"> Are you sure to delete ? </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-light" data-dismiss="modal"> Cancel </button>
        <a href="{% url 'fileshare:folder-delete' folder_id %}"> <button type="button" class="btn btn-danger"> Delete </button> </a>
      </div>

    </div>
  </div>
</div>

<h2>Folders</h2>
<ul>
  {% for f in folders %}
  <li> <a href="{% url 'fileshare:detail' f.id %}">{{ f }} </a> </li>
 
  {% endfor %}
</ul>

<h2>Files</h2>
<ul>
  {% for file in files %}
<<<<<<< HEAD
  <li><a href="{{ file.file.url }}" target="_blank">{{file.file}} </li>
  {% endfor %}
</ul>
 
{% endblock %}
 
=======
  <li> <a href="{{ file.file.url }}" target="_blank">{{ file.name }}</a>
    <a href="{% url 'fileshare:file-update' file.pk %}"> <button type="button" class="btn btn-secondary"> Edit </button> </a>

    <!-- <a href="{% url 'fileshare:file-delete' file.pk %}"><button type="button" class="btn btn-danger"> Delete </button> </a> -->
    <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#Modal{{file.pk}}"> Delete </button>
    <!-- Here each modal should have its respective div-id. So we tagged file.pk to name of id -->
    <div class="modal" id="Modal{{file.pk}}">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title"> Delete </h4>
            <button type="button" class="close" data-dismiss="modal">&times;</button>
          </div>

          <div class="modal-body"> Are you sure to delete ? </div>

          <div class="modal-footer">
            <button type="button" class="btn btn-light" data-dismiss="modal"> Cancel </button>
            <a href="{% url 'fileshare:file-delete' file.pk %}"> <button type="button" class="btn btn-danger"> Delete </button></a>
          </div>

        </div>
      </div>
    </div>
  </li>
  {% endfor %}
</ul>
{% endblock %}
>>>>>>> 6b52365bdb1bc4aeba68a0586bf510d339bff347
